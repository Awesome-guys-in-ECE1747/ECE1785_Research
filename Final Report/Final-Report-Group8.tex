
\documentclass[sigconf]{acmart}
\usepackage{makecell}
%%
%% \BibTeX command to typeset BibTeX logo in the docs
\AtBeginDocument{%
  \providecommand\BibTeX{{%
    \normalfont B\kern-0.5em{\scshape i\kern-0.25em b}\kern-0.8em\TeX}}}

\setcopyright{none}
\settopmatter{printacmref=false} % Removes citation information below abstract
\renewcommand\footnotetextcopyrightpermission[1]{} % removes footnote with conference information in first column
\pagestyle{plain}

%%
%% end of the preamble, start of the body of the document source.
\begin{document}

%%
%% The "title" command has an optional parameter,
%% allowing the author to define a "short title" to be used in page headers.
\title{Exploratory Analysis of Emotions in Computer Engineering}


\author{Jiaming Xu}
\email{jm.xu@mail.utoronto.ca}
\affiliation{%
  \institution{1007698831, Group 8, Department of ECE, University of Toronto}
  \city{Toronto}
  \state{Ontario}
  \country{Canada}
  \postcode{M5B 0A5}
}

\author{Teng Yue}
\email{teng.yue@mail.utoronto.ca}
\affiliation{% 
  \institution{1007826792, Group 8, Department of ECE, University of Toronto}
  \city{Toronto}
  \state{Ontario}
  \country{Canada}
  \postcode{M5B 0A5}}


\author{Wenrui Xu}
\email{wenrui.xu@mail.utoronto.ca}
\affiliation{%
  \institution{1008313228, Group 8, Department of ECE, University of Toronto}
  \city{Toronto}
  \state{Ontario}
  \country{Canada}
  \postcode{M5B 0A5}
}

%%
%% The abstract is a short summary of the work to be presented in the
%% article.
\begin{abstract}
  This report mainly discussed the impacts of different emotions may have on coding efficiency. We use both quantitative and qualitative analysis to find the results. For the quantitative analysis, we investigate the open-source repositories, mine the emotion hidden inside the commit messages and find the relationship between emotion and coding efficiency. For the qualitative analysis, we make some interviews with software engineers from dot-com companies, research teams and open-source community. Besides, some participants also shared their project emotional experience on other engineer-related approaches, which indicates some general clues of emotion impacts in computer engineering.
\end{abstract}


%%
%% Keywords. The author(s) should pick words that accurately describe
%% the work being presented. Separate the keywords with commas.
\keywords{Emotion Mining, Working Efficiency, Psychology, Computer Engineering}



%%
%% This command processes the author and affiliation and title
%% information and builds the first part of the formatted document.
\maketitle
\pagestyle{plain}
\section{Introduction}
With the continuous development of the social economy, the development of software engineering technology has made people's lives more convenient, and has also driven the development of many other industries. Also with the wide application of various software, people pay more and more attention to software engineering technology, and its practical application scope is also expanding. In order to meet people's requirements for high-quality life, software engineering technology must accelerate its development. Demand and development promote each other, making the software development industry continue to innovate. The newly generated technology also provides many jobs for society. At the same time, the software development department has a growing voice in Internet companies. More and more company managers are developed from the original junior or senior software engineers in the company. Many companies also set generous benefits and salaries for software engineers.
\par 
However, behind the exquisite web pages, complex and diverse software functions and decent salaries are the sweat and day-and-night hard work of software engineers. While well-paid, many software engineers are under pressure. Because Internet companies have put forward requirements for software engineers to work efficiently when developing software, it is necessary to compress the development time of software systems to minimize the development cycle of software. In the process of software development, iterative development has become an important content, which requires software engineers to have stronger testing capabilities and coordination capabilities. This places high demands on the software engineers' ability to adjustment, iterative development, and teamwork. Being in a state of high stress for a long time, developers are also very easy to become anxious and depressed.
\par 
In order for the company to have a strong competitiveness, Internet companies require employees to maintain high work efficiency. Additionally, in order to ensure the mental health of employees, a lot of companies have begun to pay attention to the mental health of employees. Some Internet companies regularly hold departmental activities to enhance the relationship between teams. A few Internet companies even set up special psychological counseling rooms for employees to relieve psychological pressure.
\par 
However, few previous papers have specifically explored the relationship between software engineer emotions and productivity. Indeed, there are a few papers discussing the relationship between positive mood and work efficiency. But the participants are not software engineers, and the research results may not be applicable to the field of software engineering. In addition, the relationship between positive and negative moods on work productivity has rarely been explored simultaneously.
\par 
Therefore, in this study, we intend to explore the relationship between software engineers' emotions and their productivity. First of all, on the basis of extensive reading and understanding of the related literature, we present the research status of the research field, including the main academic viewpoints, previous research results, focus of debate, existing problems and possible reasons, etc. We also conduct comprehensive analysis, summarization and comments on previous literature. Then, we will exploit both quantitative and qualitative method in our research, including an emotion mining and interviews respectively.
\par 
The rest of the paper will be presented as follows: section $2$ presents the definations pertaining to emotions model and emotion mining. Section $3$ presents the research questions. Section $4$ presents how we collect and analyze data in both quantitative and qualitative ways. Section $5$ presents the process of conducting emotion mining. Section $6$ presents how we conduct interviews.

\section{Definations}
In this section, we introduce emotion models and the emotion mining method we learned in the previous researches.

\subsection{Emotion Models}

For more than half a century, basic emotion theory has been explored and disputed, propelling the field of emotional psychology forward. The basic emotion model proposes that humans have a limited set of biologically and psychologically "basic" emotions (e.g., fear, anger, joy, and sadness) \cite{wilson}, each displayed in an orderly recurring pattern of linked behavioral components \cite{ekman1992a} \cite{russelja}.
\par 
Even though many psychologists have accepted the theory of basic emotions, there is no consensus about the precise number of basic emotions. Robert Plutchik offered eight fundamental emotions, which he organized into a color wheel: anger, fear, sadness, disgust, surprise, anticipation, trust, and joy. Fear, anger, joy, sadness, contempt, disgust, and surprise were presented as seven basic emotions by Ekman, but he altered it to six basic emotions: fear, anger, joy, sadness, disgust, and surprise \cite{ekman1999basic}. According to Jack et al. \cite{jack}, humans have four primary emotions: fear, anger, joy, and sadness.
\par 
In this paper, we apply Parrott’s basic emotion model \cite{parott}, which consists of six basic emotions, which are love, joy, surprise, anger, sadness and fear respectively. Beside the six basic emotions, they can be subdivided into secondary emotions. Meanwhile, the secondary emotions can even be subdivided into tertiary emotions. In our search, we only apply the six basic emotions, but will try the secondary emotions in future study.

\subsection{Emotion and productivity}
Many literatures have shown the influences of emotions. 
\par 
Positive emotions and moods, according to Barsade et al. \cite{barsade2007does}, tend to improve performance at the individual, group, and organizational levels. Furthermore, they claimed that negative affective expressions can contaminate organizational cultures, influence leaders' perspectives, and potentially lead to aggressiveness or violence. Negative emotions (particularly rage) might, on the other hand, attract our attention to situations of injustice and unfairness, strengthen power perceptions, and improve bargaining outcomes.
\par 
Better mood actually affects worker productivity for workers whose compensation is mainly stable, according to Decio Coviello et al \cite{coviello2020effect}. For workers whose pay is dependent on performance, the negative effects of mood are reduced (high-powered incentives).
\par 
By analysing on-the-job emotionality, Yoshihiko Kadoya \cite{kadoya2020emotional} et al. investigated the link between workers' emotional states and productivity. Happiness was found to be strongly and positively associated to productivity, according to their findings. Such findings suggested that, in order to assure improved productivity, workers' emotional states should be handled as part of an organization's operational strategy.
\par 
M. Ali Pervez \cite{pervez2010impact} found that workplace emotions were only regarded important in terms of employee well-being and job satisfaction. Anger frequently leads to aggressiveness toward coworkers, whereas sadness leads to job discontent. An emotion, such as rage, interest, or trust, is neither instantaneous, nor is it long-lasting like a mood; rather, it is a brief event of coordinated changes in mind and body that has a direct impact on the employee's performance.
\par 

\subsection{Emotional Mining}
Emotion mining is a quantitative method. Many previous papers have applied such approach in the data analysis process.
\par
Jinxuan Zhou et al. \cite{10.1115/1.4047685} demonstrated a new approach for mapping designer emotions and accompanying designer activities in synchronous collaborative CAD using automated facial emotion detection software and cursor tracking. Designers who worked in a paired workflow showed more emotion than designers who worked alone, according to their findings. In their technique, logistic regression was used to analyse the correlations between user actions and feelings for each combination of event and emotion for each participant, and meta-regression was used to aggregate the regression results for the two different working styles.
\par 
Mohamed Yassine et al. \cite{5693422} proposed a new paradigm for defining emotional interactions in social networks and then separating friends from acquaintances based on these qualities. A model for data collecting, database schemas, data processing, and data mining stages are all included in the framework. The goal was to see if the writer's writings conveyed his or her thoughts and feelings. The data was then employed to determine the strength of a relationship between two people based on the subjectivity of the texts they shared online. A k-means algorithm was used to divide the texts into three categories. The first category included objective or factual communications, the second moderately subjective writings implying some form of relationship between the users, and the third category included subjective texts implying a deep friendship between the two users.


\section{Research Questions}

%TODO: More discussions, maybe we need a grounded theory?
There are a number of research questions we plan to figure out through the research.
\begin{itemize}
%  \item How do we define and categorize different kinds of emotion?
%  \item How do we know engineers’ emotion from their codes?
%  \item How do we measure the efficiency of coding?
%  \item Does the emotion change have impact on the efficiency of coding?
%  \item What effects will the emotion change cause on coding efficiency?
	\item What factors will cause the emotion change in computer engineering?
	\item Does the emotion change have impacts on the working progress?
\end{itemize}


\section{Methodology}

We will collect and analyze our data in both qualitative and quantitative ways.

\subsection{Study 1: Emotion Mining}
We design a data mining method to do the quantitative analysis and predict the emotions hidden in open-source repositories' commit messages. Using the predictions and evaluation of the commit log, we try to find the relationship between emotions impacts and working efficiency in open-source projects.
We divide the experiment design into two parts, including emotion prediction and working efficiency evaluation.
\subsubsection{Emotion Prediction}\par
In this section, we will talk about our plans for emotion predictions. We plan to use text emotion mining for this part. We will take the commit messages and their description as raw data for us to do the data mining.
There are several phases in our plan. 
\begin{itemize}
    \item For the first step, we will select a repository in which the commit messages tend to show a strong emotion. We will take it as an example, and do the analysis and prediction on this repository to form the basic results and conclusions. We will use the regular expressions filter to label the emotions within the commit information. It's easier for us to deploy it and costs less. Every commit log which contains the emotion related words will be recorded in our local files.
    \item Then we will try to apply more complex methods to the repository. For example, we can use the convolutional neural network to build and train a model to predict the emotions within the commit messages. The comparison between these two methods will be discussed later.
    \item At last, we will validate our observation and insights derived from the example project to other repositories. 
\end{itemize}



\subsubsection{Working Efficiency Evaluation}\par
In this part, we will introduce our plan for evaluating the working efficiency around the commit time.
There are several evaluating metrics we have considered. We will talk about them separately.
\begin{itemize}
    \item First is the line of code. We will use the recorded commit log and find the commit time. Then we will calculate the total lines of code changed in the contributors' commits around that time, both for additions and deletions. 
    \item Second is the code value metrics. Some SDKs contains the tools to compute the value metrics of the commit. The tools will evaluate how important the modified code is to the module and open-source projects, and mark points according to it. By utilizing this kind of computation, we can get a clearer view of the contribution in the commit logs which contains different emotions.
\end{itemize}
%TODO
%We will use the emotional mining methods to mine the emotions in the selected repositories which are easy to analyze.
%Then we will calculate the coding efficiency of each mined commit messages accordingly.
\subsection{Study 2: Semi-structured Interview}
We design a semi-structured interview to do qualitative study to explore the relationship between emotion impacts and coding efficiency on the subjective perspective. Besides, we also tried to figure out the potential factors which influence the emotional status of people during the project in order to give suggestions with reference values to both employers and team leaders.
\\\\
Since the interview aims on evaluating influence, express and outcome factors, we propose several types of factors which we will focus on in the interview designing and analysis. For the influence factors, we searched some typical reasons and did brief talks with some engineers other than the participants, we finally introduce the following influence factors:
\begin{itemize}
	\item Project Factors
	\item Social Factors
\end{itemize}
%计划要做哪些任务
TODO
\\\\
We plan to interview 10-20 participants from different regions about their project experience. We will ask question to investigate their emotion status along the project working procedure, and infer the internal and external factors leading to their emotion status correspondingly. Our participants should comprise of software engineering related people from different specific divisions, for example, machine learning, backend developing, quality assurance engineering, UI/UX designing and etc. To achieve in more general and comprehensive conclusion, we also select participants from our own social network and engineer community, including employees at different degrees in Internet companies, graduate students, and open-source developers.
\\\\
TODO

\section{Emotion Mining}
For current project phase, we implemented the first stage of emotion prediction and used the lines of code as our evaluating metrics. 
As is widely acknowledged, contributors in the open-source project "linux" is famous for their strong emotions in the commit messages and comments. So it's representative and suitable for our first-stage experiment, and we believe we can find some exciting facts in this repository. We will get some hypothesis according to the results and validate our thoughts in future by extending the experiment to other repositories.
We will show our experiment setups in this section.
\subsection{Emotion Based Filter}
We finished the first stage we mentioned in section 4.1.1. We use the regular expression to filter the commit messages and get only the commits which show a strong emotion in their commit descriptions. The expressions for each emotions come from "the Compass DeRose Guide to Emotion Words"\cite{derose}. We will select the commits which contains these words and label them accordingly. The word list for every emotion is listed in the appendix. \par
For the detailed implementation, we use the beautifulsoup library to get the commit logs which contains the emotion words from github web-page. We recorded the sha information for every commit and the recorded data will be used later in working efficiency computation. We didn't use the REST API v3 and GraphGL API v4, because these APIs do not support regular expression filter in the index.
% TODO
\subsection{Working Efficiency Computation}
Here in this part, we measure the working efficiency using evaluation metrics. For the first stage, we only use the lines of code metric to evaluate the working efficiency. In the previous part, we recorded the "SHA" information of the commits which contains strong emotions. We will use the "SHA" to make a URL to request commit information from REST API. We will request the commit information at that day and add up the additions and deletions contained in the json return information to calculate the average lines of code changed. The average lines of code changed at that day will be considered as the working efficiency in that emotion. Temperately, we did not realize this function, we just use the exact commit information recorded in the previous part instead of the average number of commits at that day.
After that, we will compute the average lines of code changed in all the commits of the same emotion. 

\subsection{Result}
The result for every emotion is shown in the table.
\begin{table}[hbtp]
\begin{tabular}{|l|l|l|l|}
\hline
         & Total   & Additions & Deletions \\ \hline
happy    & 611.52  & 311.61    & 299.91    \\ \hline
love     & 590.75  & 483.69    & 107.06    \\ \hline
surprise & 1473.96 & 25.05     & 1448.91   \\ \hline
sad      & 714.88  & 593.83    & 121.05    \\ \hline
anger    & 332.011 & 174.36    & 157.65    \\ \hline
fear     & 365.89  & 163.32    & 202.57    \\ \hline
\end{tabular}
\end{table}
To show it clearly, we plot a map for the result.
\begin{figure}[H] %H为当前位置，!htb为忽略美学标准，htbp为浮动图形
\centering %图片居中
\includegraphics[width=0.45\textwidth]{QuantitativeResult.png} %插入图片，[]中设置图片大小，{}中是图片文件名
\caption{Quantitative Result} %最终文档中希望显示的图片标题
\label{Fig.qr} %用于文内引用的标签
\end{figure}

\subsection{Analysis}
As we can see in the graph, when developers are in positive emotions like happy/love/surprise, they tend to have a higher working efficiency and contribute more lines of code in total. The negative emotions,except sad, tend to decrease the working efficiency compared with positive emotions.
So we conclude that in general the positive emotions will motivate the contributors to contribute more to the open-source projects than negative emotions, thus improving the working efficiency.
This hypothesis is consistent with the previous study in psychological area.\par
Apart from that, we can clearly see that in the graph, the surprise emotion tend to make developers do a large number of deletions than additions. In our opinion,  this is because the developers usually feel surprised in the situation that some malicious bugs happen and they need to make the situation back in control at once. For example, if there are security vulnerabilities in some modules, they tend to stop the module at once, and make other functions behave normally. They tend to delete more code to locate the bug, make the project function normally and fix the bug later on.\par
Last but not least, in negative emotions, sadness makes contributors improve their efficiency while anger and fear decrease the working efficiency. We think anger and fear is stronger emotions which will hinder the developers' thoughts, and sadness will make contributors clam down, thus improving the working efficiency. 
\section{Interview}
% 实际做了哪些任务
Practically, we recruit 16 participants overall from diverse regions, status of employment and division background, their employment status is list in table \ref{comp}. For the composition of respondents, 11 of them are from East Asia and 5 are from North America, while 9 of the participants choose not to disclose the full scripts of interview due to contents involving confidential issues, and rest of the scripts are included in the repository of our project on GitHub.
\\\\
All the participants are currently or formerly engineering occupied, and they may or may not share their experience in engineering related or unrelated divisions. For the further evaluation and analysis, we asked participants for permission to record audio %其他经验
\begin{table}[hbtp]
\caption{Composition of Participants}
\label{comp}
\begin{tabular}{lll}
\Xhline{2\arrayrulewidth}
Employment Status    & Number of People & Perception \\ \hline
Student      & 4                & 25\%       \\
Junior Engineer       & 4                & 25\%       \\
Senior Engineer       & 3                & 18.75\%    \\
Open-source Developer & 5                & 31.25\%    \\
Overall               & 16               & 100\%     \\
\Xhline{2\arrayrulewidth}
\end{tabular}
\end{table}

% 各个任务具体是如何设计并实现的

% 取得了什么数据

% 得到了什么结论
\section{Discussion \& Limitation}
In this section, we will discuss our methods' pros, cons and improving methods accordingly. Then we will discuss in detail about the limitations of our research.
\subsection{Quantitative Method}
First we will discuss the rationality of our method and the advantage of it.
As we have mentioned in part 4.1, we divide the experiment into several stages. For the first stage, we use regex and lines of code, and take linux as raw data. It’s easy to build and deploy, the relatively small amount of data is convenient for us to take a further look at the details. And we take only Linux repository as our raw data, because Linux commit messages tend to show a strong feeling. We filter out the other commit information which is irrelevant to our research, so the commits left are emotions which are easy to distinguish and the emotion categorization is more accurate. Then for the second stage, we plan to use convolutional neural network for predicting all the emotions in the commits, so no commit will be deleted from our raw dataset. It’s obvious that natural language processing and machine learning can predict the category more accurately. And the words are selected by the dictionary, it can also cause bias. These methods can help reduce the bias caused by the dictionary. What's more, as we have talked in previous sessions, there are subclass emotions, we think there will be slight differences between subclass emotions which belong to the same upper-class emotions. By using CNN, we can use the secondary emotion framework as our categorization.\par
For the working efficiency measurement, we use the lines of code to approximate the working efficiency, because it's the easiest way to measure. In the future work, we will use the code value metrics to evaluate the working efficiency. In our opinion, the lines of code in a certain period of time can represent the working efficiency to some extents. It's sufficient for us to get hypothesis in stage 1. And the code value metrics is certainly a better choice, it can evaluate the importance of the code, thus representing the value of the work in that period of time.
Then we will discuss the threats to our validity. The threats comes from three aspects: selection of raw data, emotion prediction and working efficiency measurement.\par
For the raw data selection, we selected the linux because it has strong emotions. It is representative, but different people have different emotions, and the emotions will affect people in different ways. The commit messages are not from the same author, and we learnt from the recorded data that: actually, the same author tends to show the same emotion in their commits. So it's hard to measure how the emotions affect different people, there will definitely be bias here. \par
For the emotion prediction, stage 1 uses regex. There are many commits which are dismissed, they may contain the emotions which are less obvious to observe, and these emotions can affect the working efficiency in a different way. There will be bias if we dismiss them. But we use the CNN to solve it, which can also bring error and bias in its way. The model may have wrong predictions, may be overfitting on the training set, e.t.. So the error and bias here is unavoidable. \par
For the working efficiency measurement, lines of code changed will certainly bring bias. If developer needs a lot of time to look up the materials and finishes it with short code, our method will dismiss the value of his thinking, but the working efficiency is actually high because the code value he brings is high. The code value metric can decrease the bias to some extent, but there are also problems about it. The open-source coders don't have stable working time everyday, so maybe they contribute less because they don't work on it. And some of them may fork their own branch and merge it when finishing the module, thus bring a very high value in only one commit. So, it's hard to define the measurement metric and there is no right way to quantify the efficiency.
\subsection{Qualitative Method}
\section{Conclusion}
%Conclude the paper by summarizing the findings of the research questions and our contributions.
%Then we will consider future works to improve our researches.
In our research, we investigated the relationship between emotions and working efficiency in real-world software development. We investigate it in both quantitative and qualitative ways, and found that positive emotions tend to motivate people to contribute more, while anger and fear may slow down the working pace greatly.\par
In the future, we will use deep-learning to train a complex model in Linux repository, and based on it, we will extend the model to various repositories. And we will use secondary emotion framework to further enhance our research method. If the model is too complex to compute, we can also use the subclass distillation to generate a student model and make a balance between complexity and accuracy.
\section{Acknowledgement}




\bibliographystyle{ACM-Reference-Format}
\bibliography{final}
\end{document}
\endinput
